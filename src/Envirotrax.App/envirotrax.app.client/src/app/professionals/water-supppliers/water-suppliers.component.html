<div>
    <vp-section header="Water Suppliers">
        <dp-loading-spinner *ngIf="suppliers.isLoading"></dp-loading-spinner>

        <div>
            <ul>
                <li>
                    Select the water supplier/s that you want available for selection on the submission form.
                </li>
                <li>
                    To select to work within a water supplier, click on the service name that you provide for
                    participating water supplier.
                </li>
                <li>
                    Please be sure that you meet the requirements of the water supplier or you will not be able to
                    complete the submission form.
                </li>
            </ul>
        </div>

        <div class="d-flex flex-column align-items-center justify-content-center my-5">
            <div class="d-flex justify-content-center">
                <div class="mx-2 d-flex align-items-center">
                    <img src="/images/insurance-icon.png"
                         alt="Water supplier requires insurance"
                         class="vp-requirement-icon me-2" />
                    Insurance Required
                </div>

                <div class="mx-2 d-flex align-items-center">
                    <img src="/images/camera-icon.png"
                         alt="Water supplier requires assembly photos"
                         class="vp-requirement-icon me-2" />
                    Requires Assembly Photos
                </div>
            </div>

            <vp-input *ngIf="states"
                      name="state"
                      label="Select Sate to Filter"
                      type="select"
                      class="mt-4"
                      [(ngModel)]="stateId"
                      (ngModelChange)="stateChanged()">
                <option value=""></option>
                <option *ngFor="let state of states" [value]="state.id">
                    {{state.name}}
                </option>
            </vp-input>
        </div>

        <vp-table *ngIf="suppliers.items"
                  [columns]="suppliers.columns!"
                  [data]="suppliers.items.data"
                  [(pageInfo)]="suppliers.items.pageInfo"
                  (pageInfoChange)="getSuppliers()"
                  [(query)]="suppliers.query"
                  (queryChange)="getSuppliers()"
                  (queryReset)="getSuppliers()"
                  [freeTextSearch]="suppliers.freeTextSearch" />
    </vp-section>
</div>